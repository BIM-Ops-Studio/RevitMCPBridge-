{
  "$schema": "standards-pack-v2",

  "identity": {
    "name": "Core_Universal_v1",
    "version": "1.0.0",
    "description": "Universal baseline standards - applies to ALL project types",
    "firm": null,
    "projectType": "Core",
    "revitVersions": ["2024", "2025", "2026"],
    "discipline": "ARCH",
    "unitSystem": "Imperial",
    "roundingRules": {
      "lengths": "1/8 inch",
      "areas": "1 SF",
      "angles": "0.1 degrees"
    },
    "coordinateStrategy": {
      "internalOrigin": "Keep at 0,0,0",
      "projectBasePoint": "Set to building corner or grid intersection",
      "surveyPoint": "Set from survey if available"
    },
    "phases": ["Existing", "New Construction", "Demolition"],
    "worksharing": {
      "enabled": false,
      "worksetNaming": "{Category}_{Description}"
    }
  },

  "titleBlocks": {
    "required": [
      {"familyName": "ARCH D 24x36", "size": "24x36", "isDefault": true}
    ],
    "preferredPatterns": [],
    "excludePatterns": ["Autodesk", "Sample"],
    "sharedParameters": ["Project Name", "Project Number", "Client", "Issue Date"],
    "revisionSystem": {
      "numberingScheme": "numeric",
      "cloudTagging": "Delta with number"
    }
  },

  "sheets": {
    "numberingFormat": "standard",
    "numberingSuffix": "-{run_id:4}",
    "sets": {
      "permitSkeleton": [
        {"number": "G0.01", "name": "COVER SHEET", "required": true},
        {"number": "G0.02", "name": "GENERAL NOTES & SYMBOLS", "required": false},
        {"number": "A1.01", "name": "FLOOR PLAN - LEVEL 1", "viewType": "FloorPlan", "level": 1, "required": true},
        {"number": "A2.01", "name": "EXTERIOR ELEVATIONS", "viewType": "Elevation", "required": true},
        {"number": "A3.01", "name": "BUILDING SECTIONS", "viewType": "Section", "required": false},
        {"number": "A5.01", "name": "DOOR SCHEDULE", "viewType": "Schedule", "category": "Doors", "required": true},
        {"number": "A5.02", "name": "WINDOW SCHEDULE", "viewType": "Schedule", "category": "Windows", "required": true}
      ]
    },
    "coverSheet": {
      "projectDataBlock": true,
      "teamBlock": true,
      "codeSummaryBlock": true,
      "keyPlan": false,
      "vicinityMap": false
    }
  },

  "views": {
    "prefix": "ZZ_",
    "namingPattern": "{Prefix}{ViewType}_{Level}_{RunId}",
    "templates": {
      "floorPlan": {
        "scale": 48,
        "detailLevel": "Medium",
        "visualStyle": "Hidden Line",
        "discipline": "Architectural",
        "phaseFilter": "Show New",
        "cropEnabled": true,
        "annotationCrop": true
      },
      "reflectedCeiling": {
        "scale": 48,
        "detailLevel": "Medium",
        "visualStyle": "Hidden Line",
        "discipline": "Architectural",
        "cropEnabled": true
      },
      "exteriorElevation": {
        "scale": 48,
        "detailLevel": "Medium",
        "visualStyle": "Hidden Line",
        "discipline": "Architectural",
        "cropEnabled": true
      },
      "buildingSection": {
        "scale": 48,
        "detailLevel": "Medium",
        "visualStyle": "Hidden Line",
        "discipline": "Architectural",
        "cropEnabled": true
      },
      "detail": {
        "scale": 12,
        "detailLevel": "Fine",
        "visualStyle": "Hidden Line"
      }
    }
  },

  "annotations": {
    "textTypes": {
      "notes": "3/32\" Arial",
      "titles": "1/4\" Arial Bold",
      "keynotes": "3/32\" Arial",
      "small": "1/16\" Arial",
      "large": "3/8\" Arial Bold"
    },
    "dimensionStyles": ["Linear - 3/32\"", "Angular", "Spot Elevation"],
    "tagFamilies": {
      "door": "Door Tag",
      "window": "Window Tag",
      "room": "Room Tag",
      "area": "Area Tag"
    },
    "keynoteStrategy": "elementKeynotes",
    "lineStyles": [
      "Thin Lines",
      "Medium Lines",
      "Wide Lines",
      "Hidden",
      "Centerline",
      "Demolition"
    ],
    "symbolFamilies": {
      "sectionMarker": "Section Head - Filled",
      "elevationMarker": "Elevation Mark - Square",
      "northArrow": "North Arrow 2",
      "detailCallout": "Detail Callout",
      "revisionCloud": "Revision Cloud"
    }
  },

  "families": {
    "required": {
      "doors": ["Single-Flush", "Double-Flush"],
      "windows": ["Fixed", "Casement", "Double Hung"],
      "annotations": ["Door Tag", "Window Tag", "Room Tag", "Section Head", "Elevation Mark"]
    },
    "namingConvention": {
      "pattern": "{Width}x{Height}_{Material}_{Rating}",
      "requiredParams": ["Mark", "Type Mark", "Width", "Height"]
    }
  },

  "schedules": {
    "definitions": {
      "doorSchedule": {
        "category": "Doors",
        "fields": ["Mark", "Type Mark", "Level", "Width", "Height", "Fire Rating", "Frame Material", "Comments"],
        "sorting": ["Level", "Mark"],
        "grouping": ["Level"],
        "filters": ["Exclude Demo"],
        "formatting": {
          "units": "feet-inches",
          "rounding": "1/8\"",
          "alignment": "left"
        }
      },
      "windowSchedule": {
        "category": "Windows",
        "fields": ["Mark", "Type Mark", "Level", "Width", "Height", "Sill Height", "Head Height", "Comments"],
        "sorting": ["Level", "Mark"],
        "grouping": ["Level"],
        "filters": ["Exclude Demo"],
        "formatting": {
          "units": "feet-inches",
          "rounding": "1/8\"",
          "alignment": "left"
        }
      },
      "roomSchedule": {
        "category": "Rooms",
        "fields": ["Number", "Name", "Level", "Area", "Floor Finish", "Wall Finish", "Ceiling Finish", "Ceiling Height"],
        "sorting": ["Level", "Number"],
        "grouping": ["Level"],
        "formatting": {
          "units": "SF",
          "rounding": "1 SF",
          "alignment": "left"
        }
      }
    }
  },

  "filters": {
    "preflight": [
      {
        "id": "MISSING_DOOR_TAGS",
        "name": "Untagged Doors",
        "category": "Doors",
        "condition": "Tag == null",
        "severity": "warning",
        "message": "Door without tag found"
      },
      {
        "id": "MISSING_WINDOW_TAGS",
        "name": "Untagged Windows",
        "category": "Windows",
        "condition": "Tag == null",
        "severity": "warning",
        "message": "Window without tag found"
      },
      {
        "id": "MISSING_ROOM_TAGS",
        "name": "Untagged Rooms",
        "category": "Rooms",
        "condition": "Tag == null",
        "severity": "warning",
        "message": "Room without tag found"
      },
      {
        "id": "BLANK_TYPE_MARK",
        "name": "Blank Type Marks",
        "category": "Doors,Windows",
        "condition": "Type Mark == ''",
        "severity": "warning",
        "message": "Element with blank Type Mark"
      }
    ],
    "codeCompliance": [
      {
        "id": "UNENCLOSED_ROOM",
        "name": "Not Enclosed Rooms",
        "category": "Rooms",
        "condition": "Area == 'Not Enclosed'",
        "severity": "error",
        "message": "Room is not properly enclosed"
      }
    ]
  },

  "browserOrganization": {
    "scheme": "byViewType",
    "namingConvention": "{Discipline}-{ViewType}-{Level}"
  },

  "worksets": {
    "standard": [
      {"name": "Shared Levels and Grids", "defaultFor": ["Levels", "Grids"]},
      {"name": "Shell", "defaultFor": ["Walls", "Roofs", "Floors"]},
      {"name": "Interiors", "defaultFor": ["Interior Walls", "Doors", "Casework"]},
      {"name": "Site", "defaultFor": ["Topography", "Site Components"]}
    ],
    "defaultActive": "Shell"
  },

  "coordination": {
    "linkPositioning": "Auto - By Shared Coordinates",
    "copyMonitor": ["Levels", "Grids"],
    "auditRules": {
      "purgePolicy": "Before issue",
      "warningThreshold": 100
    }
  },

  "exports": {
    "pdf": {
      "dpi": 300,
      "vectorRaster": "vector",
      "colorMode": "mono"
    },
    "dwg": {
      "layerMapping": "AIA Standard"
    },
    "folderStructure": "{ProjectNumber}/{Discipline}/{IssueDate}",
    "namingPattern": "{ProjectNumber}_{SheetNumber}_{SheetName}"
  },

  "sectorModules": [],

  "levelMapping": {
    "patterns": {
      "level1": ["Level 1", "L1", "First Floor", "Ground", "1", "01"],
      "level2": ["Level 2", "L2", "Second Floor", "2", "02"],
      "level3": ["Level 3", "L3", "Third Floor", "3", "03"],
      "roof": ["Roof", "T.O. Roof", "Roof Level", "T.O. Structure"]
    },
    "dynamicLevels": true,
    "maxLevels": 50
  },

  "cropStrategy": {
    "method": "model_extents",
    "marginFeet": 5.0,
    "enabled": true
  },

  "capabilities": {
    "fallbacks": {
      "scheduleViewport": "export_csv",
      "legendViewport": "skip_with_warning",
      "missingElevation": "skip_with_warning"
    }
  },

  "completeness": {
    "permit": {
      "description": "Minimum for permit application",
      "required_sheets": ["cover", "code", "floor_plans", "elevations"],
      "required_schedules": ["door"],
      "min_tag_coverage": 0.90,
      "allow_missing_dims": true,
      "allow_missing_sections": true
    },
    "cd": {
      "description": "Construction Documents - full set",
      "required_sheets": ["cover", "code", "floor_plans", "enlarged_plans", "elevations", "sections", "details"],
      "required_schedules": ["door", "window", "room", "finish"],
      "min_tag_coverage": 0.98,
      "allow_missing_dims": false,
      "allow_missing_sections": false
    },
    "bid": {
      "description": "Bidding Documents - complete and verified",
      "required_sheets": ["ALL"],
      "required_schedules": ["ALL"],
      "min_tag_coverage": 1.00,
      "allow_missing_dims": false,
      "allow_missing_sections": false
    }
  },

  "annotation_rules": {
    "doors": {
      "tag_family": "Door Tag",
      "required_params": ["Mark", "Type Mark", "Width", "Height"],
      "optional_params": ["Hardware", "Fire Rating", "Frame Material"],
      "auto_tag": true,
      "tag_leaders": "by_distance",
      "leader_threshold_ft": 3.0
    },
    "windows": {
      "tag_family": "Window Tag",
      "required_params": ["Mark", "Type Mark"],
      "optional_params": ["Sill Height", "Head Height", "Glass Type"],
      "auto_tag": true,
      "tag_leaders": "by_distance",
      "leader_threshold_ft": 3.0
    },
    "rooms": {
      "tag_family": "Room Tag",
      "required_params": ["Number", "Name"],
      "optional_params": ["Area", "Floor Finish", "Ceiling Height"],
      "disallowed_names": ["Room", "ROOM", "Unnamed", ""],
      "auto_tag": true,
      "tag_leaders": "never"
    }
  },

  "qa_thresholds": {
    "blocker_severity": ["duplicate_marks", "unenclosed_rooms", "missing_room_names"],
    "warning_severity": ["missing_tags", "missing_params", "scale_mismatch"],
    "info_severity": ["missing_elevations", "missing_sections", "orphan_views"]
  }
}
